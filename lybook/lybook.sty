% ----------------------- %
% -- PACKAGES REQUIRED -- %
% ----------------------- %


%% Formatting

\usepackage[
	top  = 2.25cm, bottom = 2.25cm, 
	left = 1.75cm, right  = 1.75cm
]{geometry}

\usepackage{enumitem}
\usepackage{multicol}

\usepackage{color}


%% Headers and footers

\usepackage{fancyhdr}


%% References

\usepackage{hyperref}


%% Theorem and co.

\usepackage{amsthm}


%% Language

\usepackage[french]{babel}


%% TeX programming

\usepackage{ifthen}


%% Frames

\usepackage{tcolorbox}
\tcbuselibrary{breakable}


%% Misc.

\usepackage{ifplatform}
\usepackage{import}


%% Math

\usepackage{lymath}



% ------------------------ %
% -- SPECIAL FORMATTING -- %
% ------------------------ %

\setlength\parindent{0pt}


%% Headers and footers

\usepackage{fancyhdr}
\pagestyle{fancy}
\fancyhf{}%clear all headers and footers
\fancyhead[LE]{\slshape \small \rightmark}
\fancyhead[RO]{\slshape \small \leftmark}
\fancyhead[LO,RE]{\small \thepage}

\fancypagestyle{plain}{%
	\fancyhf{}%clear all headers and footers
	\renewcommand{\headrulewidth}{0pt}%header rule invisible
}


% Redefine representation for section and co counters
%
% Source : https://tex.stackexchange.com/a/37947/6880
\setsecnumdepth{subsubsection}

\renewcommand\thepart{\arabic{part}}
\renewcommand\thechapter{\Alph{chapter}}
\renewcommand\thesection{\Roman{section}}
\renewcommand\thesubsection{\arabic{subsection}}
\renewcommand\thesubsubsection{\roman{subsubsection}}


\setcounter{tocdepth}{3}

% Source : https://latex.org/forum/viewtopic.php?t=7094
\renewcommand{\printtoctitle}{\centering\Large\bfseries}



% #1 : Title
% #2 : Author
% #3 : Date
% #4 : Level
% #5 : Location
\newcommand\buildfront[5]{
	\frontmatter

	\title{#1}
	\author{#2}
	\date{#3}

	\maketitle

% Source : https://latex.org/forum/viewtopic.php?t=12386

	\begin{KeepFromToc}
   		\tableofcontents
	\end{KeepFromToc}

	\mainmatter

	\fancyfoot[L]{\small\textsc{#4}}
	\fancyfoot[R]{\small\textsc{#5}}
}



\newenvironment{bullets}{
	\begin{itemize}[label=\small\textbullet]
}{
	\end{itemize}
}


% --------------- %
% -- MULTICOLS -- %
% --------------- %

\newenvironment{multicols-sep}[1]{
	\setlength{\columnseprule}{0.4pt}
	\setlength\columnsep{40pt} 
	\begin{multicols}{#1}
}{
	\end{multicols}
	\setlength{\columnseprule}{0pt}
	\setlength\columnsep{10pt} 
}


% ------------ %
% -- FRAMES -- %
% ------------ %

\newenvironment{frame-gene}[1][]{
	\begin{tcolorbox}[title=#1, colbacktitle=black!10!white, colback=white, coltitle=black, breakable,center title, fonttitle=\bfseries\itshape\small]
}{
	\end{tcolorbox}
}



% ----------------------- %
% -- PEDAGOGICAL TOOLS -- %   
% ----------------------- %

% WARNING ! We have to start with theorem !
\newtheorem{theorem}{Théorème}[section]
\newtheorem*{theorem*}{Théorème}


% Let's add theorem like environments.

%%%% C

\newtheorem{conjecture}[theorem]{Conjecture}
\newtheorem*{conjecture*}{Conjecture}

\newtheorem{context}[theorem]{Mise en contexte}
\newtheorem*{context*}{Mise en contexte}

\newtheorem{corollary}[theorem]{Corollaire}
\newtheorem*{corollary*}{Corollaire}


%%%% E

\newtheorem{example}[theorem]{Exemple}
\newtheorem*{example*}{Exemple}

\newtheorem{exercice}[theorem]{Exercice}
\newtheorem*{exercice*}{Exercice}

%%%% L

\newtheorem{lemma}[theorem]{Lemme}
\newtheorem*{lemma*}{Lemme}

%%%% M

\newtheorem{methodology}[theorem]{Méthodologie}
\newtheorem*{methodology*}{Méthodologie}

%%%% N

\newtheorem{notation}[theorem]{Notation}
\newtheorem*{notation*}{Notation}

\newtheorem{notations}[theorem]{Notations}
\newtheorem*{notations*}{Notations}

%%%% P

\newtheorem{proposition}[theorem]{Proposition}
\newtheorem*{proposition*}{Proposition}

%%%% R

\newtheorem{remark}[theorem]{Remarque}
\newtheorem*{remark*}{Remarque}

%%%% V

\newtheorem{vocabulary}[theorem]{Vocabulaire}
\newtheorem*{vocabulary*}{Vocabulaire}


% Proof like environments.

\newtheorem*{solution*}{Solution}
\newtheorem{@solution@}[theorem]{Solution de}

\newenvironment{solution}{
	\addtocounter{theorem}{-1}
	\begin{@solution@}
}{
	\end{@solution@}
}


\newtheorem*{demo*}{Preuve}
\newtheorem{@demo@}[theorem]{Preuve de}

\newenvironment{demo}{
	\addtocounter{theorem}{-1}
	\begin{@demo@}
}{
	\end{@demo@}
}

% Source: https://stackoverflow.com/a/44191005/4589608

\newcommand\demotodo{\@ifstar{\@demotodo@star}{\@demotodo@no@star}}

\newcommand\@demotodo@star[1][]{%
   	\begin{demo*}[#1]
   	\end{demo*}
}

\newcommand\@demotodo@no@star[1][]{%
  	\begin{demo}[#1]
	\end{demo}
}
